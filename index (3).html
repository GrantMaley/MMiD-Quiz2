<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MMiD Academy Quiz Time</title>

<style>
body {
  margin:0;
  font-family:'Arial Black', Arial, sans-serif;
  background: radial-gradient(circle at center, #020024, #000);
  color:#fff;
}

/* HEADER */
header {
  background:linear-gradient(90deg,#ff8c00,#ffb347);
  padding:15px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
}
header img { height:60px; }
header h1 { font-size:36px; }

/* LAYOUT */
#container {
  display:flex;
  height:calc(100vh - 100px);
}
#main { flex:3; padding:40px; }
#scores {
  flex:1;
  background:#080808;
  border-left:5px solid #ff8c00;
  padding:20px;
}
#scores h2 {
  text-align:center;
  color:#ffd700;
}

/* JOIN */
#join {
  text-align:center;
  margin-top:80px;
}
#join input {
  padding:15px;
  font-size:20px;
  width:280px;
  border-radius:10px;
  border:none;
}
#join button {
  margin-top:20px;
  padding:15px 30px;
  font-size:22px;
  background:#ff8c00;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

/* QUESTION */
#timer {
  font-size:64px;
  color:#ffd700;
}
#qtext {
  font-size:34px;
  margin:30px 0;
}
.answers {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
.answer {
  background:#111;
  border:2px solid #ff8c00;
  border-radius:14px;
  padding:20px;
  font-size:20px;
  cursor:pointer;
}
.answer:hover {
  background:#ff8c00;
  color:#000;
}
.correct { background:#00c853 !important; color:#000; }
.wrong { background:#b00020 !important; }

/* CONTROLS (HOST ONLY) */
#controls button {
  width:100%;
  padding:18px;
  font-size:22px;
  border:none;
  border-radius:10px;
  background:#ff8c00;
  cursor:pointer;
  margin-top:10px;
}

/* SCORES */
.score {
  background:#111;
  padding:12px;
  margin:10px 0;
  border-radius:10px;
  font-size:20px;
  box-shadow:0 0 10px rgba(255,140,0,0.6);
}

/* WINNER */
#winnerScreen {
  text-align:center;
  margin-top:80px;
}
#winnerScreen h2 {
  font-size:48px;
  color:#ffd700;
}

.hidden { display:none; }
</style>
</head>

<body>

<header>
  <img src="https://uploads.onecompiler.io/44a3fspvj/44a3bm35r/MMID%20Academy%20logo.png">
  <h1>MMiD Academy Quiz Time</h1>
</header>

<div id="container">

<div id="main">

  <!-- JOIN -->
  <div id="join">
    <h2>Enter your name to join</h2>
    <input id="nameInput" placeholder="Your name">
    <br>
    <button onclick="joinGame()">Join Game</button>
  </div>

  <!-- QUESTION -->
  <div id="question" class="hidden">
    <div id="timer">10</div>
    <div id="qtext"></div>
    <div class="answers" id="answers"></div>
  </div>

  <!-- WINNER -->
  <div id="winnerScreen" class="hidden">
    <h2>üèÜ WINNER üèÜ</h2>
    <div id="winnerText"></div>
  </div>

  <!-- CONTROLS -->
  <div id="controls" class="hidden">
    <button id="startBtn" onclick="startGame()">‚ñ∂ Start Game</button>
    <button id="nextBtn" class="hidden" onclick="nextQuestion()">‚û° Next Question</button>
  </div>

</div>

<!-- SCORES -->
<div id="scores">
  <h2>üèÜ Live Scores</h2>
  <div id="scoreList"></div>
</div>

</div>

<!-- AUDIO -->
<audio id="tick" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
<audio id="reveal" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>

<script>
const params = new URLSearchParams(window.location.search);
const isHost = params.get("host") === "1";

const questions = [
  { q:"What does MMiD stand for?", a:["Modern Media Design","Media, Marketing & Digital","Marketing Innovation"], c:1 },
  { q:"How long do you have per question?", a:["5 seconds","10 seconds","20 seconds"], c:1 },
  { q:"This quiz is inspired by?", a:["MasterChef","Who Wants to Be a Millionaire","The Apprentice"], c:1 }
];

let current = -1;
let time = 10;
let timer;
let playerName = "";
let scores = {};
let answered = false;

/* HOST SETUP */
if(isHost){
  document.getElementById("controls").classList.remove("hidden");
}

/* JOIN */
function joinGame(){
  const name = document.getElementById("nameInput").value.trim();
  if(!name) return alert("Enter your name");
  playerName = name;
  scores[playerName] = 0;
  updateScores();
}

/* GAME */
function startGame(){
  document.getElementById("join").classList.add("hidden");
  document.getElementById("startBtn").classList.add("hidden");
  document.getElementById("nextBtn").classList.remove("hidden");
  nextQuestion();
}

function nextQuestion(){
  clearInterval(timer);
  current++;
  answered = false;

  if(current >= questions.length){
    endGame();
    return;
  }

  const q = questions[current];
  document.getElementById("question").classList.remove("hidden");
  document.getElementById("qtext").innerText = q.q;

  const answers = document.getElementById("answers");
  answers.innerHTML = "";

  q.a.forEach((text,i)=>{
    const btn = document.createElement("div");
    btn.className = "answer";
    btn.innerText = text;
    btn.onclick = ()=>answer(btn,i);
    answers.appendChild(btn);
  });

  startTimer();
}

/* TIMER */
function startTimer(){
  time = 10;
  document.getElementById("timer").innerText = time;
  timer = setInterval(()=>{
    document.getElementById("tick").play();
    time--;
    document.getElementById("timer").innerText = time;
    if(time <= 0){
      clearInterval(timer);
      reveal();
    }
  },1000);
}

/* ANSWER */
function answer(btn,choice){
  if(answered) return;
  answered = true;
  clearInterval(timer);

  if(choice === questions[current].c){
    scores[playerName]++;
  }
  reveal();
}

/* REVEAL */
function reveal(){
  document.getElementById("reveal").play();
  [...document.getElementsByClassName("answer")].forEach((btn,i)=>{
    btn.classList.add(i === questions[current].c ? "correct" : "wrong");
  });
  updateScores();
}

/* END */
function endGame(){
  document.getElementById("question").classList.add("hidden");
  document.getElementById("winnerScreen").classList.remove("hidden");

  const winner = Object.entries(scores).sort((a,b)=>b[1]-a[1])[0];
  document.getElementById("winnerText").innerHTML =
    winner ? `${winner[0]}<br>Score: ${winner[1]}` : "No winner";
}

/* SCORES */
function updateScores(){
  const list = document.getElementById("scoreList");
  list.innerHTML = "";
  Object.entries(scores)
    .sort((a,b)=>b[1]-a[1])
    .forEach(([name,score])=>{
      list.innerHTML += `<div class="score">${name}: ${score}</div>`;
    });
}
</script>

</body>
</html>




